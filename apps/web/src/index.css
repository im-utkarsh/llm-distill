/* apps/web/src/index.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	body {
		@apply bg-crt-bg text-crt-text font-terminal text-xl;
		-webkit-font-smoothing: none;
		-moz-osx-font-smoothing: grayscale;
		text-rendering: geometricPrecision;
	}
}

@-moz-document url-prefix() {
	html {
		scrollbar-width: thick;
		scrollbar-color: theme("colors.crt-green-dim / 80%") #000;
	}
}

::-webkit-scrollbar {
	width: 18px;
	height: 18px;
}

::-webkit-scrollbar-track {
	background: #000;
}

::-webkit-scrollbar-thumb {
	background-color: theme("colors.crt-green-dim / 80%");
	border-radius: 0;
	border: 2px solid #000;
}

::-webkit-scrollbar-thumb:hover {
	background-color: theme("colors.crt-green-dim");
}

::-webkit-scrollbar-corner {
	background-color: #000;
}

.starfield-container {
	pointer-events: none;
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	overflow: hidden;
	z-index: 0;
}

.star-layer {
	position: absolute;
	inset: 0;
	will-change: transform;
}
.sway-slow {
	animation: sway 90s ease-in-out infinite alternate;
}
.sway-medium {
	animation: sway 70s ease-in-out infinite alternate;
}
.sway-fast {
	animation: sway 55s ease-in-out infinite alternate;
}

@keyframes sway {
	from {
		transform: translateX(-1%);
	}
	to {
		transform: translateX(1%);
	}
}

.stars-small,
.stars-medium,
.stars-large {
	position: absolute;
	top: 0;
	left: 0;
	width: 1px;
	height: 1px;
	background: transparent;
	will-change: transform;
	filter: url(#crtWobble);
	mix-blend-mode: screen;
}

/* Vertical parallax scroll animations */
.stars-small {
	animation: move-stars 180s linear infinite;
}
.stars-medium {
	animation: move-stars 120s linear infinite;
}
.stars-large {
	animation: move-stars 80s linear infinite;
}

@keyframes move-stars {
	from {
		transform: translateY(0);
	}
	to {
		transform: translateY(-2500px);
	}
}

.grid-overlay {
	position: absolute;
	inset: 0;
	pointer-events: none;
	background-image: linear-gradient(
			rgba(34, 139, 34, 0.2) 2px,
			transparent 2px
		),
		/* rows */
			linear-gradient(90deg, rgba(34, 139, 34, 0.2) 2px, transparent 2px),
		linear-gradient(rgba(34, 139, 34, 0.1) 3px, transparent 3px),
		/* thicker rows */
			linear-gradient(90deg, rgba(34, 139, 34, 0.1) 3px, transparent 3px);
	background-size: 61px 57px, 67px 54px, 130px 119px, 120px 111px;

	background-position: 0 0, 0 0, 1px 2px, 2px 1px;

	filter: url(#crtWobble);
	mix-blend-mode: screen;
	opacity: 0.38;
	animation: grid-jitter 8s steps(60) infinite,
		grid-dim 5s ease-in-out infinite alternate;
}

@keyframes grid-jitter {
	0% {
		background-position: 0px 0px, 0px 0px, 1px 2px, 2px 1px;
	}
	25% {
		background-position: 0.5px 0px, 0px 0.5px, 1px 1px, 2px 2px;
	}
	50% {
		background-position: -0.5px 0px, 0px -0.5px, 2px 1px, 1px 2px;
	}
	75% {
		background-position: 0px 0.5px, 0.5px 0px, 1px 3px, 3px 1px;
	}
	100% {
		background-position: 0px 0px, 0px 0px, 1px 2px, 2px 1px;
	}
}

@keyframes grid-dim {
	from {
		opacity: 0.34;
	}
	to {
		opacity: 0.42;
	}
}

.crt-effect::before {
	content: " ";
	display: block;
	position: absolute;
	top: 0;
	left: 0;
	bottom: 0;
	right: 0;
	background: linear-gradient(
		rgba(18, 16, 16, 0) 50%,
		rgba(0, 0, 0, 0.15) 50%
	);
	background-size: 100% 5px;
	z-index: 10;
	pointer-events: none;
}

.crt-effect::after {
	content: " ";
	display: block;
	position: absolute;
	top: 0;
	left: 0;
	bottom: 0;
	right: 0;
	background: radial-gradient(
		circle,
		rgba(255, 159, 64, 0.06) 0%,
		rgba(51, 255, 51, 0.08) 30%,
		transparent 70%
	);
	opacity: 0.6;
	z-index: 10;
	pointer-events: none;
}
